const translations = {
    hu: {
        nav: {
            about: "R√≥lunk",
            members: "Tagjaink",
            activities: "Tev√©kenys√©geink",
            donate: "T√°mogat√°s"
        },
        
        hero: {
            title: "De√°k T√©ri Evang√©likus Gimn√°zium",
            subtitle: "Hack Club",
            description: "Hivatalos Hack Club a De√°k T√©ri Evang√©likus Gimn√°ziumban.",
            btnSupport: "T√°mogass",
            btnLearnMore: "Tudj meg t√∂bbet",
            codeComment: "Tanulj, tervezz, alkoss!"
        },
        
        about: {
            title: "R√≥lunk",
            school: {
                title: "De√°k T√©ri Evang√©likus Gimn√°zium",
                description: "A klub a De√°k T√©ri Evang√©likus Gimn√°zium klubja. A iskola Budapest sz√≠v√©ben, a De√°k Ferenc t√©ren tal√°lhat√≥. Nyolc- √©s n√©gyoszt√°lyos k√©pz√©si form√°ban m≈±k√∂dik."
            },
            programming: {
                title: "Programoz√°s √©s alkot√°s",
                description: "Webfejleszt√©st≈ël mobil appokig, j√°t√©kfejleszt√©st≈ël mesters√©ges intelligenci√°ig - minden ter√ºletet felfedez√ºnk. A kezd≈ëkt≈ël a halad√≥kig mindenkit sz√≠vesen l√°tunk."
            },
            global: {
                title: "Glob√°lis k√∂z√∂ss√©g r√©sze",
                description: "A Hack Club nemzetk√∂zi h√°l√≥zat√°nak tagjak√©nt kapcsolatban √°llunk vil√°g minden t√°j√°r√≥l √©rkez≈ë fiatal programoz√≥kkal √©s alkot√≥kkal."
            }
        },

        members: {
            title: "Tagjaink",
            roles: {
                leader: "Klub vezet≈ë",
                member: "Tag"
            },
            age: "√©ves",
            website: "Weboldal",
            github: "GitHub"
        },

        activities: {
            title: "Tev√©kenys√©geink",
            meetings: {
                title: "Heti tal√°lkoz√≥k",
                description: "Minden h√©ten √∂sszej√∂v√ºnk, hogy √∫j technol√≥gi√°kat tanuljunk, projekteken dolgozzunk √©s megosszuk egym√°ssal a tapasztalatainkat."
            },
            projects: {
                title: "Projektmunk√°k",
                description: "Egy√©ni √©s csoportos projekteken is dolgozunk - weboldalakt√≥l kezdve mobilalkalmaz√°sokig √©s j√°t√©kokig."
            },
            competitions: {
                title: "Versenyeken val√≥ r√©szv√©tel",
                description: "Programoz√≥ versenyek, hackathonok √©s Hack Club esem√©nyek - akt√≠van r√©szt vesz√ºnk a k√∂z√∂ss√©g √©let√©ben."
            }
        },

        benefits: {
            title: "Mire j√≥ ez a klub?",
            learning: {
                title: "Tanul√°si lehet≈ës√©gek",
                description: "Programoz√°si nyelvek, fejleszt≈ëi eszk√∂z√∂k √©s modern technol√≥gi√°k megismer√©se tapasztalt di√°kokkal √©s lelkes t√°rsakkal."
            },
            community: {
                title: "K√∂z√∂ss√©g",
                description: "Fontos sz√°munkra, hogy akiknek hasonl√≥ a hobbija, kis k√∂z√∂ss√©gk√©nt m≈±k√∂dj√ºnk egy√ºtt."
            },
            competitions: {
                title: "Versenyeken val√≥ r√©szv√©tel",
                description: "R√©szt vesz√ºnk programoz√≥ versenyeken, hackathonokban √©s ak√°r orsz√°gos megm√©rettet√©seken is."
            },
            portfolio: {
                title: "Portf√≥li√≥ √©p√≠t√©s",
                description: "Leny≈±g√∂z≈ë projekteket k√©sz√≠t√ºnk, amelyek bemutatj√°k a k√©pess√©geinket √©s seg√≠tik a j√∂v≈ëbeli tanulm√°nyainkat."
            },
            global: {
                title: "Glob√°lis kapcsolatok",
                description: "A Hack Club nemzetk√∂zi h√°l√≥zat√°nak tagjak√©nt kapcsolatba l√©phet√ºnk vil√°g minden t√°j√°r√≥l √©rkez≈ë fiatal fejleszt≈ëkkel."
            }
        },
        
        donate: {
            title: "T√°mogasd a klubunkat!",
            description: "A te t√°mogat√°soddal m√©g t√∂bb lehet≈ës√©get tudunk biztos√≠tani tagjainknak. Seg√≠tsd a k√∂vetkez≈ë gener√°ci√≥ programoz√≥inak fejl≈ëd√©s√©t!",
            personal: {
                title: "Szem√©lyes t√°mogat√°s",
                description: "Mag√°nszem√©lyek r√©sz√©re. Online t√°mogat√°s gyors √©s egyszer≈± fizet√©ssel. Seg√≠ts a klubunk m≈±k√∂d√©s√©ben.",
                features: [
                    "Azonnali online adom√°nyoz√°s",
                    "Rugalmas √∂sszeg meghat√°roz√°s",
                    "K√∂sz√∂netnyilv√°n√≠t√°s a weboldalon"
                ],
                button: "T√°mogatom"
            },
            sponsorship: {
                title: "Szponzor√°l√°s",
                description: "V√°llalatok √©s szervezetek r√©sz√©re. V√°lassz a sz√°ml√°z√°sos vagy egyszeri t√°mogat√°s k√∂z√∂tt. Legy√©l partnere a fiatal tehets√©gek fejleszt√©s√©nek!",
                features: [
                    "Sz√°ml√°z√°s vagy egyszeri t√°mogat√°s",
                    "Logo megjelen√©s a weboldalon",
                    "Eml√≠t√©s k√∂z√∂ss√©gi m√©dia fel√ºleteinken"
                ],
                recurring: "Rendszeres t√°mogat√°s",
                onetime: "Egyszeri sz√°mla"
            },
            supporters: {
                loading: "T√°mogat√≥k bet√∂lt√©se...",
                sponsors: "üåü Szponzoraink",
                donators: "Szem√©lyes t√°mogat√≥ink",
                thanks: "K√∂sz√∂nj√ºk minden t√°mogat√≥nknak! ‚ú®"
            }
        },
        
        community: {
            title: "Hack Club k√∂z√∂ss√©g",
            description: "Klubunk a Hack Club nemzetk√∂zi h√°l√≥zat√°nak r√©sze. Ez azt jelenti, hogy hozz√°f√©r√ºnk a Slack k√∂z√∂ss√©ghez, ahol 27,253+ fiatal programoz√≥val besz√©lgethet√ºnk, tapasztalatokat cser√©lhet√ºnk √©s egy√ºtt tanulhatunk.",
            button: "Hack Club hivatalos oldala",
            stats: {
                members: "Hack Club tag",
                clubs: "Akt√≠v klub",
                countries: "Orsz√°g"
            }
        },
        
        footer: {
            contact: "Kapcsolat",
            about: "R√≥lunk",
            donate: "T√°mogat√°s",
            copyright: "2025 De√°k T√©ri Evang√©likus Gimn√°zium Hack Club. Minden jog fenntartva."
        },
        
        invoice: {
            title: "Sz√°ml√°z√°si adatok",
            recurringTitle: "Rendszeres szponzor√°l√°s - Sz√°ml√°z√°si adatok",
            onetimeTitle: "Egyszeri szponzor√°l√°s - Sz√°ml√°z√°si adatok",
            recurringNotice: {
                title: "Rendszeres sz√°ml√°z√°si folyamat",
                description: "A k√©relem elk√ºld√©se ut√°n email-ben fogjuk √ñnnel felvenni a kapcsolatot a rendszeres sz√°ml√°z√°si r√©szletek egyeztet√©s√©re."
            },
            onetimeNotice: {
                title: "Egyszeri sz√°ml√°z√°si folyamat",
                description: "A k√©relem elk√ºld√©se ut√°n email-ben fogjuk √ñnnel felvenni a kapcsolatot a sz√°ml√°z√°si r√©szletek egyeztet√©s√©re."
            },
            sponsor: "Szponzor adatok",
            companyName: "N√©v (v√°llalatiekn√°l c√©gn√©v)",
            contactEmail: "Kapcsolattart√≥ email (sz√°ml√°z√°si c√≠m)",
            streetAddress: "Utca, h√°zsz√°m",
            suite: "Emelet/Iroda",
            city: "V√°ros",
            state: "Megye/√Ållam",
            zip: "Ir√°ny√≠t√≥sz√°m",
            country: "Orsz√°g",
            selectCountry: "V√°lassz orsz√°got",
            billingDetails: "Sz√°ml√°z√°si r√©szletek",
            frequency: "T√°mogat√°s gyakoris√°ga",
            selectFrequency: "V√°lassz gyakoris√°got",
            frequencies: {
                weekly: "Hetente",
                monthly: "Havonta",
                quarterly: "Negyed√©vente",
                yearly: "√âvente"
            },
            amount: "√ñsszeg (USD)",
            notice: {
                title: "Sz√°ml√°z√°si folyamat",
                description: "A k√©relem elk√ºld√©se ut√°n email-ben fogjuk √ñnnel felvenni a kapcsolatot a sz√°ml√°z√°si r√©szletek egyeztet√©s√©re. A sz√°mla ki√°ll√≠t√°sa √©s a fizet√©si felt√©telek megbesz√©l√©se szem√©lyre szabottan t√∂rt√©nik."
            },
            cancel: "M√©gse",
            submit: "K√ºld√©s"
        },
        
        placeholders: {
            companyName: "pl. Raviga Capital",
            contactEmail: "pl. peter.gregory@ravigacapital.com",
            streetAddress: "pl. Kossuth Lajos t√©r 16-17.",
            suite: "pl. 3. emelet",
            city: "pl. Budapest",
            state: "pl. Pest megye",
            zip: "pl. 1055",
            amount: "500"
        }
    },
    
    en: {
        nav: {
            about: "About",
            members: "Members",
            activities: "Activities",
            donate: "Support"
        },
        
        hero: {
            title: "De√°k T√©ri Evangelical High School",
            subtitle: "Hack Club",
            description: "Official Hack Club at De√°k T√©ri Evangelical High School.",
            btnSupport: "Support",
            btnLearnMore: "Learn more",
            codeComment: "Learn, design, create!"
        },
        
        about: {
            title: "About",
            school: {
                title: "De√°k T√©ri Evangelical High School",
                description: "The club is part of De√°k T√©ri Evangelical High School. The school is located in the heart of Budapest, at De√°k Ferenc Square. It operates with eight and four-year educational programs."
            },
            programming: {
                title: "Programming and creation",
                description: "From web development to mobile apps, from game development to artificial intelligence - we explore every field. We welcome everyone from beginners to advanced."
            },
            global: {
                title: "Part of global community",
                description: "As a member of the Hack Club international network, we are connected with young programmers and creators from all over the world."
            }
        },
        
        members: {
            title: "Members",
            roles: {
                leader: "Club leader",
                member: "Member"
            },
            age: "years old",
            website: "Website",
            github: "GitHub"
        },
        
        activities: {
            title: "Activities",
            meetings: {
                title: "Weekly meetings",
                description: "We meet every week to learn new technologies, work on projects and share our experiences with each other."
            },
            projects: {
                title: "Project work",
                description: "We work on both individual and group projects - from websites to mobile applications and games."
            },
            competitions: {
                title: "Competition participation",
                description: "Programming competitions, hackathons and Hack Club events - we actively participate in community life."
            }
        },
        
        benefits: {
            title: "What is this club good for?",
            learning: {
                title: "Learning opportunities",
                description: "Learning programming languages, development tools and modern technologies with experienced students and enthusiastic peers."
            },
            community: {
                title: "Community",
                description: "It's important to us that those who have similar hobbies work together as a small community."
            },
            competitions: {
                title: "Competition participation",
                description: "We participate in programming competitions, hackathons and even national competitions."
            },
            portfolio: {
                title: "Portfolio building",
                description: "We create impressive projects that showcase our skills and help our future studies."
            },
            global: {
                title: "Global connections",
                description: "As a member of the Hack Club international network, we can connect with young developers from all over the world."
            }
        },
        
        donate: {
            title: "Support our club!",
            description: "With your support, we can provide even more opportunities for our members. Help the next generation of programmers develop!",
            personal: {
                title: "Personal support",
                description: "For individuals. Online support with fast and simple payment. Help our club operate.",
                features: [
                    "Instant online donation",
                    "Flexible amount determination",
                    "Acknowledgment on the website"
                ],
                button: "Support"
            },
            sponsorship: {
                title: "Sponsorship",
                description: "For companies and organizations. Choose between invoiced or one-time support. Be a partner in developing young talents!",
                features: [
                    "Invoicing or one-time support",
                    "Logo appearance on the website",
                    "Mention on our social media platforms"
                ],
                recurring: "Recurring support",
                onetime: "One-time invoice"
            },
            supporters: {
                loading: "Loading supporters...",
                sponsors: "üåü Our sponsors",
                donators: "Personal supporters",
                thanks: "Thank you to all our supporters! ‚ú®"
            }
        },
        
        community: {
            title: "Hack Club community",
            description: "Our club is part of the Hack Club international network. This means we have access to the Slack community where we can chat, exchange experiences and learn together with 27,253+ young programmers.",
            button: "Hack Club official website",
            stats: {
                members: "Hack Club members",
                clubs: "Active clubs",
                countries: "Countries"
            }
        },
        
        footer: {
            contact: "Contact",
            about: "About",
            donate: "Support",
            copyright: "2025 De√°k T√©ri Evangelical High School Hack Club. All rights reserved."
        },
        
        invoice: {
            title: "Billing information",
            recurringTitle: "Recurring sponsorship - Billing information",
            onetimeTitle: "One-time sponsorship - Billing information",
            recurringNotice: {
                title: "Recurring billing process",
                description: "After submitting the request, we will contact you via email to coordinate recurring billing details."
            },
            onetimeNotice: {
                title: "One-time billing process",
                description: "After submitting the request, we will contact you via email to coordinate billing details."
            },
            sponsor: "Sponsor information",
            companyName: "Name (company name for businesses)",
            contactEmail: "Contact email (billing address)",
            streetAddress: "Street, house number",
            suite: "Floor/Office",
            city: "City",
            state: "State/Province",
            zip: "Postal code",
            country: "Country",
            selectCountry: "Select country",
            billingDetails: "Billing details",
            frequency: "Support frequency",
            selectFrequency: "Select frequency",
            frequencies: {
                weekly: "Weekly",
                monthly: "Monthly",
                quarterly: "Quarterly",
                yearly: "Yearly"
            },
            amount: "Amount (USD)",
            notice: {
                title: "Billing process",
                description: "After submitting the request, we will contact you via email to coordinate billing details. Invoice issuance and payment terms are discussed on a personalized basis."
            },
            cancel: "Cancel",
            submit: "Submit"
        },

        placeholders: {
            companyName: "e.g. Raviga Capital",
            contactEmail: "e.g. peter.gregory@ravigacapital.com",
            streetAddress: "e.g. 1600 Pennsylvania Avenue",
            suite: "e.g. 3rd floor",
            city: "e.g. Washington",
            state: "e.g. District of Columbia",
            zip: "e.g. 20500",
            amount: "500"
        }
    }
};

// 404 / Not Found translations
translations.hu.error = {
    title: "404 ‚Äî Nem tal√°lhat√≥",
    subtitle: "Az oldalt nem tal√°ltuk",
    description: "A keresett oldal nem l√©tezik, vagy √°thelyezt√©k. Lehets√©ges, hogy elg√©pel√©s t√∂rt√©nt a c√≠mben.",
    btnHome: "Vissza a f≈ëoldalra",
    btnContact: "Kapcsolat",
    tips: [
        "Ellen≈ërizd az URL-t",
        "Haszn√°ld a navig√°ci√≥t a fels≈ë men√ºb≈ël",
        "L√©pj kapcsolatba vel√ºnk, ha √∫gy gondolod, hib√°s linkre ker√ºlt√©l"
    ]
};

translations.en.error = {
    title: "404 ‚Äî Not Found",
    subtitle: "We couldn't find that page",
    description: "The page you requested doesn't exist or has been moved. Check the URL for typos or return to the homepage.",
    btnHome: "Back to Home",
    btnContact: "Contact Us",
    tips: [
        "Double-check the URL for typos",
        "Use the navigation in the header",
        "Contact us if you reached a broken link"
    ]
};

class LanguageManager {
    constructor() {
        this.currentLanguage = this.detectLanguage();
        this.init();
    }
    
    detectLanguage() {

        const urlParams = new URLSearchParams(window.location.search);
        const langParam = urlParams.get('lang');
        if (langParam && translations[langParam]) {
            return langParam;
        }
        
        const savedLanguage = localStorage.getItem('preferredLanguage');
        if (savedLanguage && translations[savedLanguage]) {
            return savedLanguage;
        }

        const browserLang = navigator.language.toLowerCase();
        if (browserLang.startsWith('hu')) {
            return 'hu';
        }
        
        return 'en';
    }
    
    init() {
        this.addLanguageToggle();
        this.updateLanguage(this.currentLanguage);
    }
    
    addLanguageToggle() {
        const navLinks = document.querySelector('.nav-links');
        
        const langToggle = document.createElement('div');
        langToggle.className = 'language-toggle';
        langToggle.innerHTML = `
            <button class="lang-btn ${this.currentLanguage === 'hu' ? 'active' : ''}" data-lang="hu">HU</button>
            <button class="lang-btn ${this.currentLanguage === 'en' ? 'active' : ''}" data-lang="en">EN</button>
        `;
        
        navLinks.appendChild(langToggle);

        langToggle.addEventListener('click', (e) => {
            if (e.target.classList.contains('lang-btn')) {
                const newLang = e.target.dataset.lang;
                this.switchLanguage(newLang);
            }
        });
    }
    
    switchLanguage(newLang) {
        if (newLang === this.currentLanguage) return;
        
        this.currentLanguage = newLang;
        localStorage.setItem('preferredLanguage', newLang);

        const url = new URL(window.location);
        url.searchParams.set('lang', newLang);
        window.history.replaceState({}, '', url);
        
        this.updateLanguage(newLang);
        this.updateLanguageButtons();
    }
    
    updateLanguageButtons() {
        const buttons = document.querySelectorAll('.lang-btn');
        buttons.forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === this.currentLanguage);
        });
    }
    
    updateLanguage(lang) {
        const t = translations[lang];

        this.updateElement('[data-i18n="nav.about"]', t.nav.about);
        this.updateElement('[data-i18n="nav.members"]', t.nav.members);
        this.updateElement('[data-i18n="nav.activities"]', t.nav.activities);
        this.updateElement('[data-i18n="nav.donate"]', t.nav.donate);

        this.updateElement('[data-i18n="hero.title"]', t.hero.title);
        this.updateElement('[data-i18n="hero.subtitle"]', t.hero.subtitle);
        this.updateElement('[data-i18n="hero.description"]', t.hero.description);
        this.updateElement('[data-i18n="hero.btnSupport"]', t.hero.btnSupport);
        this.updateElement('[data-i18n="hero.btnLearnMore"]', t.hero.btnLearnMore);
        this.updateElement('[data-i18n="hero.codeComment"]', t.hero.codeComment);

        this.updateElement('[data-i18n="about.title"]', t.about.title);
        this.updateElement('[data-i18n="about.school.title"]', t.about.school.title);
        this.updateElement('[data-i18n="about.school.description"]', t.about.school.description);
        this.updateElement('[data-i18n="about.programming.title"]', t.about.programming.title);
        this.updateElement('[data-i18n="about.programming.description"]', t.about.programming.description);
        this.updateElement('[data-i18n="about.global.title"]', t.about.global.title);
        this.updateElement('[data-i18n="about.global.description"]', t.about.global.description);

        this.updateElement('[data-i18n="members.title"]', t.members.title);
        this.updateElements('[data-i18n="members.roles.leader"]', t.members.roles.leader);
        this.updateElements('[data-i18n="members.roles.member"]', t.members.roles.member);
        this.updateElements('[data-i18n="members.age"]', t.members.age);
        this.updateElements('[data-i18n="members.website"]', t.members.website);
        this.updateElements('[data-i18n="members.github"]', t.members.github);

        this.updateElement('[data-i18n="activities.title"]', t.activities.title);
        this.updateElement('[data-i18n="activities.meetings.title"]', t.activities.meetings.title);
        this.updateElement('[data-i18n="activities.meetings.description"]', t.activities.meetings.description);
        this.updateElement('[data-i18n="activities.projects.title"]', t.activities.projects.title);
        this.updateElement('[data-i18n="activities.projects.description"]', t.activities.projects.description);
        this.updateElement('[data-i18n="activities.competitions.title"]', t.activities.competitions.title);
        this.updateElement('[data-i18n="activities.competitions.description"]', t.activities.competitions.description);

        this.updateElement('[data-i18n="benefits.title"]', t.benefits.title);
        this.updateElement('[data-i18n="benefits.learning.title"]', t.benefits.learning.title);
        this.updateElement('[data-i18n="benefits.learning.description"]', t.benefits.learning.description);
        this.updateElement('[data-i18n="benefits.community.title"]', t.benefits.community.title);
        this.updateElement('[data-i18n="benefits.community.description"]', t.benefits.community.description);
        this.updateElement('[data-i18n="benefits.competitions.title"]', t.benefits.competitions.title);
        this.updateElement('[data-i18n="benefits.competitions.description"]', t.benefits.competitions.description);
        this.updateElement('[data-i18n="benefits.portfolio.title"]', t.benefits.portfolio.title);
        this.updateElement('[data-i18n="benefits.portfolio.description"]', t.benefits.portfolio.description);
        this.updateElement('[data-i18n="benefits.global.title"]', t.benefits.global.title);
        this.updateElement('[data-i18n="benefits.global.description"]', t.benefits.global.description);

        this.updateElement('[data-i18n="donate.title"]', t.donate.title);
        this.updateElement('[data-i18n="donate.description"]', t.donate.description);
        this.updateElement('[data-i18n="donate.personal.title"]', t.donate.personal.title);
        this.updateElement('[data-i18n="donate.personal.description"]', t.donate.personal.description);
        this.updateElement('[data-i18n="donate.personal.button"]', t.donate.personal.button);
        this.updateElement('[data-i18n="donate.sponsorship.title"]', t.donate.sponsorship.title);
        this.updateElement('[data-i18n="donate.sponsorship.description"]', t.donate.sponsorship.description);
        this.updateElement('[data-i18n="donate.sponsorship.recurring"]', t.donate.sponsorship.recurring);
        this.updateElement('[data-i18n="donate.sponsorship.onetime"]', t.donate.sponsorship.onetime);

        this.updateElement('[data-i18n="donate.supporters.loading"]', t.donate.supporters.loading);
        this.updateElement('[data-i18n="donate.supporters.sponsors"]', t.donate.supporters.sponsors);
        this.updateElement('[data-i18n="donate.supporters.donators"]', t.donate.supporters.donators);
        this.updateElement('[data-i18n="donate.supporters.thanks"]', t.donate.supporters.thanks);

        this.updateFeatureList('[data-i18n="donate.personal.features"]', t.donate.personal.features);
        this.updateFeatureList('[data-i18n="donate.sponsorship.features"]', t.donate.sponsorship.features);

        this.updateElement('[data-i18n="community.title"]', t.community.title);
        this.updateElement('[data-i18n="community.description"]', t.community.description);
        this.updateElement('[data-i18n="community.button"]', t.community.button);
        this.updateElement('[data-i18n="community.stats.members"]', t.community.stats.members);
        this.updateElement('[data-i18n="community.stats.clubs"]', t.community.stats.clubs);
        this.updateElement('[data-i18n="community.stats.countries"]', t.community.stats.countries);

        this.updateElement('[data-i18n="footer.contact"]', t.footer.contact);
        this.updateElement('[data-i18n="footer.about"]', t.footer.about);
        this.updateElement('[data-i18n="footer.donate"]', t.footer.donate);
        this.updateElement('[data-i18n="footer.copyright"]', t.footer.copyright);

        this.updateElement('[data-i18n="invoice.title"]', t.invoice.title);
        this.updateElement('[data-i18n="invoice.sponsor"]', t.invoice.sponsor);
        this.updateElement('[data-i18n="invoice.companyName"]', t.invoice.companyName);
        this.updateElement('[data-i18n="invoice.contactEmail"]', t.invoice.contactEmail);
        this.updateElement('[data-i18n="invoice.streetAddress"]', t.invoice.streetAddress);
        this.updateElement('[data-i18n="invoice.suite"]', t.invoice.suite);
        this.updateElement('[data-i18n="invoice.city"]', t.invoice.city);
        this.updateElement('[data-i18n="invoice.state"]', t.invoice.state);
        this.updateElement('[data-i18n="invoice.zip"]', t.invoice.zip);
        this.updateElement('[data-i18n="invoice.country"]', t.invoice.country);
        this.updateElement('[data-i18n="invoice.selectCountry"]', t.invoice.selectCountry);
        this.updateElement('[data-i18n="invoice.billingDetails"]', t.invoice.billingDetails);
        this.updateElement('[data-i18n="invoice.frequency"]', t.invoice.frequency);
        this.updateElement('[data-i18n="invoice.selectFrequency"]', t.invoice.selectFrequency);
        this.updateElement('[data-i18n="invoice.amount"]', t.invoice.amount);
        this.updateElement('[data-i18n="invoice.notice.title"]', t.invoice.notice.title);
        this.updateElement('[data-i18n="invoice.notice.description"]', t.invoice.notice.description);
        this.updateElement('[data-i18n="invoice.cancel"]', t.invoice.cancel);
        this.updateElement('[data-i18n="invoice.submit"]', t.invoice.submit);

        this.updateSelectOptions('#frequency', {
            '': t.invoice.selectFrequency,
            'weekly': t.invoice.frequencies.weekly,
            'monthly': t.invoice.frequencies.monthly,
            'quarterly': t.invoice.frequencies.quarterly,
            'yearly': t.invoice.frequencies.yearly
        });
        
        this.updatePlaceholder('#companyName', t.placeholders.companyName);
        this.updatePlaceholder('#contactEmail', t.placeholders.contactEmail);
        this.updatePlaceholder('#streetAddress', t.placeholders.streetAddress);
        this.updatePlaceholder('#suite', t.placeholders.suite);
        this.updatePlaceholder('#city', t.placeholders.city);
        this.updatePlaceholder('#state', t.placeholders.state);
        this.updatePlaceholder('#zip', t.placeholders.zip);
        this.updatePlaceholder('#amount', t.placeholders.amount);

        document.title = `${t.hero.title} - ${t.hero.subtitle}`;

        document.documentElement.lang = lang;
        
        // 404 page translations (if present)
        this.updateElement('#error-title', translations[lang].error.title);
    this.updateElement('#error-subtitle', translations[lang].error.subtitle);
    this.updateElement('#error-description', translations[lang].error.description);
        this.updateElement('[data-i18n="error.btnHome"]', translations[lang].error.btnHome);
        this.updateElement('[data-i18n="error.btnContact"]', translations[lang].error.btnContact);

        const tipsContainer = document.getElementById('error-tips');
        if (tipsContainer && translations[lang].error && translations[lang].error.tips) {
            tipsContainer.innerHTML = '';
            translations[lang].error.tips.forEach(tip => {
                const li = document.createElement('li');
                li.textContent = tip;
                tipsContainer.appendChild(li);
            });
        }
    }
    
    updateElement(selector, text) {
        const element = document.querySelector(selector);
        if (element) {
            element.textContent = text;
        }
    }
    
    updateElements(selector, text) {
        const elements = document.querySelectorAll(selector);
        elements.forEach(element => {
            element.textContent = text;
        });
    }
    
    updateFeatureList(selector, features) {
        const container = document.querySelector(selector);
        if (container && features) {
            const listItems = container.querySelectorAll('li');
            features.forEach((feature, index) => {
                if (listItems[index]) {
                    listItems[index].textContent = feature;
                }
            });
        }
    }
    
    updateSelectOptions(selector, options) {
        const select = document.querySelector(selector);
        if (select && options) {
            Object.entries(options).forEach(([value, text]) => {
                const option = select.querySelector(`option[value="${value}"]`);
                if (option) {
                    option.textContent = text;
                }
            });
        }
    }
    
    updatePlaceholder(selector, placeholder) {
        const element = document.querySelector(selector);
        if (element && placeholder) {
            element.placeholder = placeholder;
        }
    }
    
    getCurrentLanguage() {
        return this.currentLanguage;
    }
    
    getTranslation(key) {
        const keys = key.split('.');
        let value = translations[this.currentLanguage];
        
        for (const k of keys) {
            value = value?.[k];
        }
        
        return value || key;
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.languageManager = new LanguageManager();
});
